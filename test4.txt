add some test, this is in the new branch. 
I hope it works fine. 
